function set(t,s){localStorage["allso_"+t]=s,0==s?(set_url[t]="http://www.baidu.com/s?wd=",set_top[t]=-45,set_left[t]=-100,set_foot[t]=80):1==s?(set_url[t]="http://www.haosou.com/s?q=",set_top[t]=0,set_left[t]=0,set_foot[t]=160):2==s?(set_url[t]="http://cn.bing.com/search?setmkt=zh-cn&setlang=zh-cn&q=",set_top[t]=-72,set_left[t]=-80,set_foot[t]=125):3==s&&(set_url[t]="http://www.search.ask.com/web?q=",set_top[t]=-88,set_left[t]=-145,set_foot[t]=127),need_respond=!0}function change_state(t){0==localStorage.allso_state?localStorage.allso_state=t?-1:1:localStorage.allso_state=0,respond(),0==localStorage.allso_state&&so()}function respond(){var t=$("body").width(),s=$(window).height(),o=$("nav.navbar").height(),e=t/2;0==localStorage.allso_state?(obja.fadeIn("fast").animate({"margin-left":set_left[0],width:e-set_left[0]},"fast"),objb.fadeIn("fast").animate({"margin-left":e+set_left[1],width:e-set_left[1]},"fast"),objProgress[0].style.width="50%",objProgress[1].style.width="50%"):localStorage.allso_state<0?(obja.fadeIn("fast").animate({"margin-left":set_left[0],width:t-set_left[0]},"fast"),objb.fadeOut("fast"),objProgress[0].style.width="75%",objProgress[1].style.width="25%"):(obja.fadeOut("fast"),objb.fadeIn("fast").animate({"margin-left":set_left[1],width:t-set_left[0]},"fast"),objProgress[0].style.width="25%",objProgress[1].style.width="75%"),obja.animate({"margin-top":set_top[0]+o,height:s-set_top[0]-o+set_foot[0]},"fast"),objb.animate({"margin-top":set_top[1]+o,height:s-set_top[1]-o+set_foot[1]},"fast"),need_respond=!1}function so(){if(""!=$.trim(soinput_obj[0].value)){obja[0].src="",objb[0].src="";var t=soinput_obj[0].value,s=encodeURIComponent(t);0==localStorage.allso_state?(obja[0].src=set_url[0]+s,objb[0].src=set_url[1]+s):localStorage.allso_state<0?obja[0].src=set_url[0]+s:objb[0].src=set_url[1]+s,window.document.title=t+" - ALLSO"}else window.document.title="ALLSO - 聚合搜索引擎";need_respond&&respond(),objProgress.addClass("progress-bar-striped active"),window.setTimeout(function(){objProgress.removeClass("progress-bar-striped active")},2e3)}if($(window).width()<770){var get_answer=confirm("ALLSO 是一个聚合性搜索引擎，可以同时对 2 个搜索引擎展开搜索，页面一分为二，充分利用屏幕资源。\n\n然而。。。\n\n你的屏幕实在是太小了，请在电脑或平板上使用 ALLSO，相信会带给你一份相当棒的体验！\n\nhttp://hzy.pw/allso/\n\n----------\n点击[是]，将跳转到百度手机版：");if(get_answer)if(location.href.indexOf("so=")>-1){var tmp=location.href.split("so=",2),tmp2=tmp[1];tmp=tmp2.split("&",2),window.location.href="http://m.baidu.com/s?word="+tmp[0]}else window.location.href="http://m.baidu.com/"}var soinput_obj=$("#soinput"),objProgress=$("div.progress>div"),obja=$("#a"),objb=$("#b"),need_respond=!0,obj_list1_buttons=$("td.set-list-1 button"),obj_list2_buttons=$("td.set-list-2 button"),set_url=[],set_top=[0,0],set_left=[0,0],set_foot=[0,0];void 0==localStorage.allso_0?(set(0,3),obj_list1_buttons.eq(3).removeClass("btn-info").addClass("btn-danger")):(set(0,localStorage.allso_0),obj_list1_buttons.eq(localStorage.allso_0).removeClass("btn-info").addClass("btn-danger")),void 0==localStorage.allso_1?(set(1,2),obj_list2_buttons.eq(1).removeClass("btn-warning").addClass("btn-success")):(set(1,localStorage.allso_1),obj_list2_buttons.eq(localStorage.allso_1).removeClass("btn-warning").addClass("btn-success")),obj_list1_buttons.click(function(){obj_list1_buttons.removeClass("btn-danger").addClass("btn-info"),$(this).removeClass("btn-info").addClass("btn-danger")}),obj_list2_buttons.click(function(){obj_list2_buttons.removeClass("btn-success").addClass("btn-warning"),$(this).removeClass("btn-warning").addClass("btn-success")}),function(){if(location.href.indexOf("so=")>-1){var t=location.href.split("so=",2),s=t[1];t=s.split("&",2),s=decodeURIComponent(t[0]).replace(/\+/g," "),soinput_obj[0].value=s,so()}}(),void 0==localStorage.allso_state&&(localStorage.allso_state=0),respond(),$(window).resize(function(){respond()}),window.navigator.userAgent.indexOf("Chrome")>0&&soinput_obj.attr("oninput","so();"),$("div.loading").fadeOut("fast");